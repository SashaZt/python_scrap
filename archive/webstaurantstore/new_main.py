import csv
import random

import aiohttp
import asyncio

datas = []


async def get_page(session, url):
    proxy_list = ['193.233.211.146:8080', '45.67.213.20:8080', '5.183.253.50:8080', '85.239.59.39:8080',
                  '93.177.116.11:8080', '85.209.150.34:8080', '178.159.107.86:8080', '45.145.131.200:8080',
                  '85.239.59.210:8080', '194.104.9.70:8080', '193.56.20.119:8080', '85.208.86.214:8080',
                  '45.132.185.197:8080', '89.19.34.92:8080', '37.44.255.29:8080', '193.233.210.245:8080',
                  '213.166.78.241:8080', '193.233.228.135:8080', '193.233.210.194:8080', '193.233.230.218:8080',
                  '45.67.212.195:8080', '85.239.57.179:8080', '193.233.138.174:8080', '45.67.213.158:8080',
                  '149.57.13.122:8080', '89.191.228.201:8080', '213.166.78.152:8080', '178.20.212.27:8080',
                  '212.119.41.207:8080', '213.166.78.22:8080', '193.233.229.123:8080', '45.148.125.170:8080',
                  '149.57.15.170:8080', '45.80.106.195:8080', '185.77.221.237:8080', '85.208.87.129:8080',
                  '85.208.85.47:8080', '193.233.82.254:8080', '193.233.83.43:8080', '85.208.85.246:8080', '193.233.229.201:8080', '94.154.127.31:8080', '85.208.210.33:8080',
                  '193.233.138.124:8080', '85.208.210.196:8080', '45.80.107.161:8080', '194.99.25.202:8080',
                  '193.233.143.44:8080', '45.145.128.236:8080', '85.239.57.203:8080', '85.208.211.107:8080',
                  '213.166.77.91:8080', '85.239.58.101:8080', '88.218.65.122:8080', '193.233.211.135:8080',
                  '185.88.37.205:8080', '95.181.148.185:8080', '193.31.127.180:8080', '45.145.128.205:8080',
                  '193.233.140.181:8080', '95.181.150.217:8080', '85.239.57.162:8080', '88.218.66.52:8080',
                  '194.99.25.13:8080', '85.239.57.173:8080', '88.218.67.65:8080', '193.233.82.91:8080',
                  '213.166.76.135:8080', '95.181.151.175:8080', '193.233.141.206:8080', '193.233.229.46:8080',
                  '88.218.66.168:8080', '146.185.204.16:8080', '95.181.151.28:8080',                   '193.233.229.122:8080', '178.159.107.39:8080', '185.94.34.84:8080', '194.104.9.110:8080',
                  '149.57.13.192:8080', '45.148.125.202:8080', '85.208.209.181:8080', '45.10.165.143:8080',
                  '193.202.16.186:8080', '45.80.107.84:8080', '93.177.117.161:8080', '149.18.57.35:8080',
                  '213.166.78.46:8080', '85.208.210.70:8080', '95.181.151.12:8080', '37.44.254.137:8080',
                  '45.67.212.220:8080', '185.94.33.40:8080', '193.233.140.92:8080', '193.56.64.204:8080',
                  '85.208.209.66:8080', '178.20.212.43:8080', '213.166.76.213:8080', '45.80.107.190:8080',
                  '213.166.76.191:8080', '37.44.254.201:8080', '193.56.20.244:8080', '149.18.56.235:8080',
                  '37.44.255.238:8080', '194.99.25.45:8080', '193.233.228.24:8080', '93.177.116.72:8080',
                  '193.56.64.36:8080', '149.18.58.156:8080', '193.233.210.97:8080', '193.233.140.143:8080',
                  '185.88.37.218:8080', '193.233.231.114:8080', '149.18.28.105:8080', '45.67.212.109:8080',
                  '85.239.59.244:8080', '91.188.246.250:8080', '141.98.85.85:8080', '193.233.140.106:8080',
                  '83.171.225.140:8080', '93.177.116.139:8080', '193.233.137.210:8080', '212.119.41.129:8080',
                  '95.181.150.42:8080', '193.233.229.55:8080', '213.166.77.129:8080', '141.98.85.68:8080',
                  '85.239.56.111:8080', '193.202.16.85:8080', '213.166.79.139:8080', '45.67.212.168:8080',
                  '45.159.23.223:8080', '149.18.57.167:8080', '95.181.148.197:8080', '176.126.111.73:8080',
                  '193.233.211.41:8080', '45.66.209.212:8080', '193.202.16.22:8080', '212.119.40.116:8080',
                  '146.185.204.118:8080', '85.239.59.52:8080', '91.242.228.81:8080', '185.94.33.101:8080',
                  '193.233.230.54:8080', '45.145.129.105:8080', '95.181.150.142:8080', '45.66.209.177:8080',
                  '95.181.149.137:8080', '5.183.253.133:8080', '45.145.128.46:8080', '95.181.150.136:8080',
                  '149.18.30.108:8080', '45.66.209.164:8080', '193.233.138.61:8080', '149.18.29.111:8080',
                  '85.208.210.229:8080', '149.57.14.222:8080', '83.171.254.250:8080', '185.77.220.156:8080',
                  '212.119.40.239:8080', '95.181.151.168:8080', '149.57.13.118:8080', '45.145.131.12:8080',
                  '185.88.101.137:8080', '88.218.65.181:8080', '45.10.165.208:8080', '149.57.12.60:8080',
                  '95.181.150.109:8080', '194.104.9.139:8080', '185.88.37.99:8080', '93.177.117.42:8080',
                  '193.56.20.122:8080', '93.177.116.125:8080', '45.67.213.18:8080', '193.56.64.170:8080',
                  '212.119.41.53:8080', '95.181.148.129:8080', '93.177.117.19:8080', '88.218.67.172:8080',
                  '45.145.128.54:8080', '185.77.221.218:8080', '149.18.28.113:8080', '85.208.210.136:8080',
                  '185.94.34.150:8080', '91.188.247.163:8080', '193.56.64.144:8080', '193.233.230.171:8080',
                  '95.181.149.251:8080', '85.239.59.29:8080', '85.239.57.12:8080', '193.56.64.203:8080',
                  '149.18.59.209:8080', '193.56.72.90:8080', '45.145.128.181:8080', '149.18.31.24:8080',
                  '185.88.37.44:8080', '85.209.151.103:8080', '85.239.58.65:8080', '95.181.150.57:8080',
                  '93.177.117.98:8080', '88.218.66.35:8080', '213.166.76.68:8080', '149.18.29.215:8080',
                  '45.159.23.137:8080', '185.94.35.113:8080', '193.233.83.93:8080', '193.233.83.95:8080',
                  '193.233.142.191:8080', '194.99.25.247:8080', '149.18.31.246:8080', '212.119.41.77:8080',
                  '149.18.28.29:8080', '193.233.211.128:8080', '193.233.211.218:8080', '45.80.107.77:8080',
                  '45.145.129.92:8080', '149.18.57.213:8080', '95.181.148.128:8080', '45.138.101.73:8080',
                  '85.209.150.170:8080', '37.44.254.251:8080', '95.181.151.178:8080', '88.218.65.218:8080',
                  '193.233.137.24:8080', '85.209.150.135:8080', '213.166.77.191:8080', '193.233.228.19:8080',
                  '193.202.16.174:8080', '85.239.58.252:8080', '89.191.229.141:8080', '149.18.57.49:8080',
                  '85.208.86.13:8080', '95.181.149.25:8080', '94.231.216.69:8080', '149.18.30.66:8080',
                  '91.188.247.156:8080', '146.185.204.102:8080', '45.145.128.39:8080', '193.233.82.149:8080',
                  '85.239.57.238:8080', '45.159.23.113:8080', '212.119.40.196:8080', '141.98.85.114:8080',
                  '93.177.116.166:8080', '149.18.58.73:8080', '193.233.82.49:8080', '89.19.34.60:8080',
                  '193.233.142.70:8080', '85.208.210.205:8080', '83.171.255.148:8080', '85.239.58.165:8080',
                  '212.119.40.104:8080', '141.98.85.214:8080', '88.218.65.20:8080', '89.191.229.31:8080',
                  '85.239.58.242:8080', '93.177.116.65:8080', '193.233.231.206:8080', '91.188.247.237:8080',
                  '83.171.255.115:8080', '45.132.185.118:8080', '45.132.185.37:8080', '149.18.31.170:8080',
                  '45.67.212.68:8080', '45.138.101.250:8080', '193.56.64.141:8080', '141.98.85.213:8080',
                  '85.239.57.228:8080', '45.80.106.67:8080', '193.233.229.40:8080', '94.231.216.131:8080',
                  '149.18.57.68:8080', '95.181.148.130:8080', '45.10.165.144:8080', '85.239.56.61:8080',
                  '193.31.127.50:8080', '95.181.150.104:8080', '213.108.1.240:8080', '95.181.149.143:8080',
                  '83.171.254.85:8080', '149.57.13.95:8080', '85.239.56.206:8080', '185.94.35.89:8080',
                  '149.18.57.201:8080', '185.94.32.173:8080', '45.67.212.20:8080', '95.181.149.130:8080','149.18.31.41:8080', '85.208.211.253:8080', '213.166.76.171:8080',
                  '149.57.15.201:8080', '149.18.59.71:8080', '185.94.33.251:8080', '45.10.165.119:8080',
                  '185.77.223.145:8080', '193.56.20.189:8080', '45.132.185.251:8080', '45.159.23.243:8080',
                  '85.239.57.91:8080', '95.181.148.127:8080', '149.57.14.234:8080', '95.181.149.98:8080',
                  '45.67.212.206:8080', '89.191.229.169:8080', '185.88.101.198:8080', '193.233.229.230:8080',
                  '193.31.127.126:8080', '45.145.128.151:8080', '85.239.57.186:8080', '85.208.209.117:8080',
                  '85.209.150.50:8080', '213.166.79.75:8080', '193.233.228.179:8080', '193.56.64.229:8080',
                  '178.159.107.195:8080', '45.145.129.223:8080', '213.166.77.40:8080', '89.191.229.254:8080',
                  '45.66.209.183:8080', '193.56.64.248:8080', '149.57.12.242:8080', '89.191.228.67:8080',
                  '193.233.230.101:8080', '178.159.107.198:8080', '91.188.246.191:8080', '85.239.56.112:8080',
                  '37.44.254.43:8080', '213.166.76.249:8080', '45.67.212.139:8080', '85.239.57.112:8080',
                  '193.233.82.232:8080', '95.181.151.31:8080', '185.94.33.197:8080', '83.171.254.190:8080',
                  '193.233.143.211:8080', '149.18.56.160:8080', '185.77.223.82:8080', '193.233.140.128:8080',
                  '85.208.86.48:8080', '88.218.66.61:8080', '5.183.253.49:8080', '149.57.14.187:8080',
                  '95.181.151.106:8080', '91.242.228.237:8080', '45.80.107.158:8080', '85.209.150.44:8080',
                  '85.208.86.169:8080', '93.177.117.244:8080', '149.18.57.200:8080', '149.18.58.53:8080',
                  '83.171.254.240:8080', '93.177.117.154:8080', '193.233.82.146:8080', '193.31.127.182:8080',
                  '141.98.85.226:8080', '185.94.35.146:8080', '149.57.13.197:8080', '193.233.143.163:8080',
                  '88.218.67.235:8080', '149.18.58.175:8080', '95.181.148.56:8080', '149.18.59.254:8080',
                  '193.56.20.17:8080', '193.56.64.125:8080', '88.218.65.144:8080', '178.159.107.124:8080',
                  '149.18.59.113:8080', '185.94.35.254:8080', '95.181.150.253:8080', '45.10.165.243:8080',
                  '185.77.221.224:8080', '194.104.9.41:8080', '45.145.131.216:8080', '149.18.56.41:8080',
                  '149.18.59.193:8080', '45.66.209.51:8080', '193.233.229.223:8080', '141.98.85.212:8080',
                  '37.44.255.115:8080', '85.208.209.69:8080', '193.233.141.84:8080', '45.10.165.84:8080',
                   '193.233.228.16:8080', '45.66.209.92:8080', '193.56.64.85:8080',
                  '91.242.228.187:8080', '85.209.151.27:8080', '88.218.67.156:8080', '185.77.223.16:8080',
                  '193.233.141.22:8080', '193.233.142.141:8080', '193.56.64.165:8080', '185.94.34.216:8080',
                  '193.233.229.232:8080', '193.233.142.166:8080', '185.77.220.210:8080', '94.154.127.250:8080',
                  '88.218.46.59:8080', '193.233.83.29:8080', '193.233.211.219:8080', '185.94.35.26:8080',
                  '85.239.58.243:8080', '149.57.15.148:8080', '213.166.76.99:8080', '193.233.229.169:8080',
                  '95.181.148.176:8080', '185.77.221.215:8080', '149.18.57.117:8080', '193.233.143.192:8080',
                  '91.188.247.93:8080', '83.171.255.74:8080', '45.80.107.192:8080', '37.44.254.41:8080',
                  '149.18.31.233:8080', '194.104.9.158:8080', '45.138.101.26:8080', '185.88.101.251:8080',
                  '178.159.107.217:8080', '91.188.246.43:8080', '88.218.46.142:8080', '193.233.142.61:8080',
                  '62.204.35.127:8080', '45.148.125.177:8080', '149.57.15.167:8080', '45.67.213.78:8080',
                  '213.166.78.194:8080', '185.94.34.153:8080', '5.183.253.241:8080', '213.166.79.161:8080',
                  '213.166.79.148:8080', '178.20.212.240:8080', '85.208.209.146:8080', '149.18.57.202:8080',
                  '45.66.209.137:8080', '88.218.46.103:8080', '85.209.150.235:8080',                   '94.154.127.162:8080', '176.126.111.240:8080', '85.208.87.254:8080', '95.181.148.126:8080',
                  '193.233.229.95:8080', '193.233.142.122:8080', '93.177.116.148:8080', '45.10.165.25:8080',
                  '85.239.58.44:8080', '185.94.35.177:8080', '91.242.228.54:8080', '85.208.86.241:8080',
                  '91.242.228.46:8080', '149.18.31.65:8080', '185.88.101.68:8080', '85.208.86.36:8080',
                  '95.181.149.74:8080', '141.98.85.81:8080', '193.56.64.72:8080', '141.98.85.92:8080',
                  '37.44.254.134:8080', '141.98.85.126:8080', '193.233.82.23:8080', '62.204.35.62:8080',
                  '45.148.125.149:8080', '185.77.223.215:8080', '85.239.56.223:8080', '193.233.82.240:8080',
                  '194.99.25.239:8080', '193.233.143.239:8080', '83.171.254.46:8080', '45.80.107.111:8080',
                  '185.77.220.127:8080', '95.181.150.236:8080', '141.98.85.215:8080', '45.10.165.151:8080',
                  '149.18.56.38:8080', '213.166.77.181:8080', '213.166.77.112:8080',
                  '149.18.28.228:8080', '193.56.20.58:8080', '85.239.57.72:8080', '193.233.83.28:8080',
                  '95.181.150.211:8080', '185.88.101.222:8080', '93.177.116.210:8080', '62.204.35.189:8080',
                  '85.208.86.125:8080', '185.94.32.245:8080', '85.208.87.214:8080', '194.99.25.243:8080',
                  '193.233.141.86:8080', '85.239.56.208:8080', '213.166.77.12:8080', '93.177.116.28:8080',
                  '193.233.228.160:8080', '193.233.137.201:8080', '149.18.58.21:8080', '85.239.59.206:8080',
                  '45.148.125.129:8080', '95.181.149.114:8080', '89.191.228.87:8080', '193.233.229.76:8080',
                  '95.181.148.118:8080', '149.57.15.67:8080', '213.166.79.104:8080', '193.56.72.28:8080',
                  '37.44.254.22:8080', '193.233.83.30:8080', '85.209.150.126:8080', '193.233.142.214:8080',
                  '37.44.254.209:8080', '149.57.15.193:8080', '93.177.117.200:8080', '213.108.1.249:8080',
                  '213.166.79.247:8080', '193.233.138.201:8080', '45.132.185.204:8080', '193.233.210.89:8080',
                  '193.56.64.56:8080', '185.94.35.114:8080', '149.57.12.221:8080', '185.94.35.86:8080',
                  '45.66.209.57:8080', '193.56.20.238:8080', '176.126.111.199:8080', '5.183.253.187:8080',
                  '89.19.34.240:8080', '212.119.40.89:8080', '149.18.58.54:8080', '85.239.59.20:8080',
                  '193.233.141.129:8080', '193.56.72.159:8080', '149.57.15.84:8080', '85.239.57.133:8080',
                  '193.233.141.76:8080', '193.233.230.252:8080', '149.18.57.146:8080', '194.110.150.30:8080',
                  '37.44.255.40:8080', '193.233.143.175:8080', '194.104.9.240:8080', '93.177.116.217:8080',
                  '37.44.255.52:8080', '45.148.125.147:8080', '85.239.58.115:8080', '94.231.216.250:8080',
                  '185.88.37.206:8080', '149.18.56.72:8080', '45.132.185.40:8080', '193.233.229.25:8080',
                  '149.18.58.200:8080', '95.181.148.98:8080', '185.77.220.76:8080', '193.233.229.144:8080',
                  '83.171.254.56:8080', '89.191.228.184:8080', '185.88.101.123:8080', '83.171.254.114:8080',
                  '85.209.151.130:8080', '193.233.230.215:8080', '45.80.106.212:8080',
                  '85.208.87.207:8080', '45.145.128.145:8080', '83.171.254.113:8080', '85.239.59.198:8080',
                  '88.218.67.187:8080', '45.132.185.99:8080', '85.208.87.23:8080', '185.94.34.42:8080',
                  '89.191.229.253:8080', '5.183.253.48:8080', '193.233.228.247:8080', '91.188.247.152:8080',
                  '37.44.255.234:8080', '213.166.78.11:8080', '37.44.254.111:8080', '5.183.253.200:8080',
                  '149.18.29.186:8080', '45.145.128.176:8080', '45.145.131.203:8080', '193.233.137.109:8080',
                  '85.239.59.55:8080', '193.233.229.163:8080', '45.80.107.79:8080', '91.242.228.163:8080',
                  '85.239.58.125:8080', '193.202.16.103:8080', '193.233.228.89:8080', '95.181.150.44:8080',
                  '85.208.86.182:8080', '194.110.150.193:8080', '45.66.209.25:8080', '95.181.151.204:8080',
                  '193.202.16.190:8080', '45.145.128.42:8080', '85.208.87.92:8080', '85.239.59.150:8080',
                  '45.132.185.64:8080', '212.119.41.209:8080', '83.171.255.215:8080', '193.233.229.130:8080',
                  '193.233.210.217:8080', '85.209.151.229:8080', '193.56.20.75:8080', '185.94.34.175:8080',
                  '149.57.13.149:8080', '149.18.58.253:8080', '45.138.101.57:8080', '149.18.30.235:8080',
                  '85.208.85.54:8080', '193.233.228.133:8080', '185.94.35.104:8080', '45.67.213.143:8080',
                  '88.218.66.192:8080', '193.233.230.181:8080', '213.166.77.35:8080', '89.191.229.194:8080',
                  '213.166.77.120:8080', '185.94.32.148:8080', '45.80.107.117:8080', '45.148.125.88:8080',
                  '185.88.37.56:8080', '37.44.254.226:8080', '185.77.220.94:8080', '176.126.111.242:8080',
                  '213.166.78.198:8080', '85.239.58.124:8080', '213.166.76.103:8080', '85.209.149.141:8080',
                  '193.31.127.215:8080', '85.208.209.42:8080', '85.239.58.206:8080', '45.80.107.96:8080',
                  '85.208.211.172:8080', '83.171.254.151:8080', '45.148.125.51:8080', '185.94.34.158:8080',
                  '212.119.41.102:8080', '89.19.34.186:8080', '45.132.185.156:8080', '88.218.65.104:8080',
                  '85.209.151.218:8080', '91.242.228.68:8080', '194.104.9.36:8080', '213.108.1.154:8080',
                  '88.218.67.221:8080', '193.202.16.156:8080', '194.104.9.89:8080', '45.67.212.153:8080',
                  '193.233.210.148:8080', '95.181.149.159:8080', '149.57.15.177:8080', '149.18.30.50:8080',
                  '146.185.204.15:8080', '193.233.141.191:8080', '213.166.79.192:8080', '85.209.149.51:8080',
                  '45.67.213.99:8080', '83.171.225.82:8080', '185.77.221.212:8080', '85.208.210.208:8080',
                  '45.148.125.187:8080', '45.66.209.106:8080', '185.94.32.65:8080', '193.202.16.244:8080',
                  '185.94.33.118:8080', '91.188.246.229:8080', '91.188.247.69:8080', '149.18.56.71:8080',
                  '185.88.37.232:8080', '45.145.129.209:8080', '45.80.106.103:8080', '178.159.107.229:8080',
                  '91.242.228.165:8080', '91.188.246.243:8080', '37.44.255.218:8080', '91.242.228.222:8080',
                  '45.132.185.231:8080', '185.94.34.169:8080', '83.171.255.192:8080', '212.119.40.86:8080',
                  '85.209.149.23:8080', '95.181.148.16:8080', '193.233.140.56:8080', '93.177.117.180:8080',
                  '193.233.231.116:8080', '94.231.216.184:8080', '93.177.117.130:8080', '85.208.211.168:8080',
                  '193.233.230.176:8080', '193.233.137.39:8080', '193.56.20.23:8080', '212.119.41.150:8080',
                  '194.99.25.137:8080', '185.77.221.73:8080', '85.239.57.29:8080', '93.177.117.121:8080',
                  '213.166.78.101:8080', '185.94.32.74:8080', '176.126.111.38:8080', '185.94.33.227:8080',
                  '62.204.35.58:8080', '93.177.116.254:8080', '95.181.148.85:8080', '185.88.37.80:8080',
                  '45.159.23.196:8080', '193.56.64.128:8080', '88.218.46.136:8080',
                  '176.126.111.155:8080', '83.171.225.147:8080', '85.209.151.48:8080', '45.145.129.115:8080',
                  '149.57.12.230:8080', '178.159.107.183:8080', '193.233.231.58:8080', '45.148.125.199:8080',
                  '89.191.229.116:8080', '91.188.247.167:8080', '83.171.255.169:8080', '212.119.40.128:8080',
                  '89.191.228.28:8080', '185.77.221.72:8080', '193.233.231.18:8080', '213.166.77.235:8080',
                  '185.94.32.57:8080', '193.233.228.146:8080', '178.159.107.242:8080', '45.10.165.121:8080',
                  '193.233.228.66:8080', '146.185.204.22:8080', '146.185.204.81:8080', '45.148.125.136:8080',
                  '5.183.253.229:8080', '193.233.83.198:8080', '45.80.107.65:8080', '141.98.85.236:8080',
                  '193.233.82.125:8080', '89.191.228.157:8080', '85.208.85.87:8080', '193.233.138.55:8080',
                  '193.202.16.162:8080', '45.145.129.55:8080', '149.18.31.26:8080', '193.56.64.162:8080',
                  '185.88.101.11:8080', '88.218.66.42:8080', '91.242.228.23:8080', '45.138.101.97:8080',
                  '89.191.229.22:8080', '185.88.37.140:8080', '85.239.59.212:8080', '85.239.56.125:8080',
                  '85.208.209.106:8080', '185.88.101.53:8080', '89.19.34.248:8080', '193.233.231.53:8080',
                  '193.233.138.49:8080', '85.208.86.47:8080', '45.80.107.130:8080', '45.80.106.77:8080',
                  '178.159.107.190:8080', '213.108.1.103:8080', '193.233.140.160:8080', '149.18.28.181:8080',
                  '193.233.143.241:8080', '194.99.25.116:8080', '45.67.212.120:8080', '95.181.151.214:8080',
                  '88.218.67.92:8080', '45.145.128.112:8080', '185.94.34.139:8080', '149.18.57.110:8080',
                  '213.166.77.218:8080', '93.177.117.36:8080', '185.94.32.135:8080', '193.233.141.82:8080',
                  '213.166.79.100:8080', '91.188.247.79:8080', '213.166.78.153:8080', '93.177.116.85:8080',
                  '212.119.41.140:8080', '185.88.37.12:8080', '185.94.33.248:8080', '62.204.35.109:8080',
                  '193.233.82.189:8080', '178.20.212.199:8080', '45.159.23.41:8080', '149.18.57.56:8080',
                  '193.202.16.221:8080', '85.239.58.149:8080', '45.80.106.96:8080', '213.166.78.121:8080',
                  '45.67.213.101:8080', '149.57.14.99:8080', '89.19.34.123:8080', '89.191.229.72:8080',
                  '149.18.29.209:8080', '193.233.210.166:8080', '95.181.148.149:8080', '193.233.141.171:8080',
                  '91.188.246.99:8080', '45.67.213.81:8080', '193.56.20.89:8080', '185.94.35.220:8080',
                  '149.57.12.76:8080', '45.145.128.12:8080', '45.67.213.125:8080', '88.218.67.220:8080',
                  '149.18.59.104:8080', '93.177.116.238:8080', '193.233.142.17:8080', '62.204.35.214:8080',
                  '194.99.25.161:8080', '149.18.57.98:8080', '146.185.204.38:8080', '5.183.253.126:8080',
                  '185.77.221.225:8080', '5.183.253.205:8080', '193.233.230.41:8080', '178.20.212.155:8080',
                  '45.67.212.101:8080', '89.191.229.207:8080', '194.104.9.105:8080', '45.80.106.236:8080',
                  '93.177.116.174:8080', '213.166.77.246:8080', '45.10.165.61:8080', '185.94.34.88:8080',
                  '45.66.209.128:8080', '176.126.111.48:8080', '93.177.117.239:8080', '176.126.111.130:8080',
                  '88.218.67.36:8080', '94.231.216.218:8080', '176.126.111.175:8080', '193.233.138.131:8080',
                  '93.177.116.69:8080', '213.166.76.43:8080', '185.94.34.249:8080', '45.67.212.190:8080',
                  '176.126.111.146:8080', '94.231.216.174:8080', '95.181.149.35:8080', '193.233.231.104:8080',
                  '194.104.9.63:8080', '85.208.87.61:8080', '149.18.56.73:8080', '193.56.72.35:8080',
                  '185.88.37.92:8080', '193.233.230.21:8080', '176.126.111.163:8080', '185.94.35.103:8080',
                  '193.233.142.46:8080', '149.57.14.216:8080', '83.171.254.37:8080', '83.171.255.117:8080',
                  '85.239.59.154:8080', '5.183.253.47:8080', '212.119.41.11:8080', '193.233.231.46:8080',
                  '95.181.149.198:8080', '185.88.37.128:8080', '194.99.25.131:8080', '185.94.33.141:8080',
                  '193.233.137.208:8080', '45.67.212.155:8080', '95.181.148.131:8080', '149.18.58.40:8080',
                  '85.208.87.74:8080', '185.77.221.182:8080', '178.159.107.147:8080', '193.233.231.11:8080',
                  '185.88.101.167:8080', '85.239.56.43:8080', '83.171.254.149:8080', '95.181.148.173:8080',
                  '194.99.25.97:8080', '45.67.213.207:8080', '45.66.209.17:8080', '93.177.117.236:8080',
                  '93.177.117.165:8080', '193.56.64.49:8080', '176.126.111.122:8080', '193.233.210.199:8080',
                  '88.218.67.212:8080', '85.208.211.163:8080', '45.67.213.182:8080', '37.44.255.219:8080',
                  '149.18.31.123:8080', '85.239.57.217:8080', '45.132.185.41:8080', '213.166.78.179:8080',
                  '83.171.254.106:8080', '193.233.82.202:8080', '185.77.223.203:8080',
                  '45.80.106.163:8080', '45.66.209.136:8080', '193.233.210.92:8080', '85.208.209.171:8080',
                  '95.181.150.131:8080', '193.233.143.181:8080', '45.132.185.187:8080', '193.233.142.237:8080',
                  '193.233.137.117:8080', '149.18.59.208:8080', '185.94.33.243:8080', '88.218.46.57:8080',
                  '193.56.64.182:8080', '193.202.16.74:8080', '149.57.12.17:8080', '185.77.221.74:8080',
                  '91.188.247.126:8080', '193.233.211.33:8080', '149.18.31.93:8080', '83.171.225.52:8080',
                  '193.202.16.232:8080', '185.94.34.180:8080', '88.218.46.131:8080', '94.231.216.47:8080',
                  '85.239.58.249:8080', '185.77.220.68:8080', '85.239.58.228:8080', '95.181.150.251:8080',
                  '212.119.40.157:8080', '85.239.56.78:8080', '85.239.59.166:8080', '176.126.111.143:8080',
                  '88.218.46.134:8080', '89.19.34.30:8080', '194.99.25.61:8080', '193.233.140.115:8080',
                  '95.181.148.46:8080', '193.233.83.210:8080', '185.94.35.201:8080', '95.181.148.220:8080',
                  '193.233.140.197:8080', '85.209.150.41:8080', '45.145.131.51:8080', '193.233.228.142:8080',
                  '45.10.165.66:8080', '45.145.131.254:8080', '89.19.34.15:8080', '45.80.107.124:8080',
                  '45.159.23.202:8080', '88.218.66.19:8080', '149.57.14.129:8080', '83.171.255.17:8080',
                  '45.145.131.140:8080', '149.57.12.91:8080', '45.80.106.115:8080', '85.239.57.236:8080',
                  '45.10.165.186:8080', '146.185.204.20:8080', '37.44.254.249:8080', '91.188.246.50:8080',
                  '88.218.67.138:8080', '212.119.40.233:8080', '89.191.228.212:8080', '193.233.137.178:8080',
                  '193.233.143.204:8080', '45.148.125.226:8080', '193.233.138.237:8080', '193.233.137.227:8080',
                  '193.233.138.35:8080', '85.239.56.170:8080', '193.233.143.73:8080', '5.183.253.149:8080',
                  '193.233.140.86:8080', '85.209.150.30:8080', '193.233.143.150:8080', '213.166.78.188:8080',
                  '45.67.212.142:8080', '149.57.13.185:8080', '149.18.58.66:8080', '193.233.229.73:8080',
                  '45.148.125.84:8080', '178.159.107.201:8080', '185.94.32.155:8080', '45.148.125.192:8080',
                  '212.119.41.99:8080', '45.66.209.145:8080', '193.56.64.100:8080', '193.233.137.150:8080',
                  '149.18.56.252:8080', '95.181.148.181:8080', '185.94.34.68:8080', '212.119.41.184:8080',
                  '185.88.37.155:8080', '85.239.58.215:8080', '193.233.228.215:8080', '45.138.101.81:8080',
                  '193.233.143.99:8080', '213.166.78.173:8080', '185.77.223.166:8080', '194.99.25.93:8080']
    bad_url = []
    free_proxy_list = ['104.223.135.178:10000', '104.223.135.178:10000','104.223.135.178:10000']
    # with open('proxies.csv', newline='', encoding='utf-8') as files:
    #     csv_reader = list(csv.reader(files, delimiter=' ', quotechar='|'))
    #     # print(random.choice(csv_reader))

    """
    Случайный прокси
    """
    # proxy = f'http://{random.choice(proxy_list)}'
    proxy = f'http://{random.choice(proxy_list)}'
    proxy_auth = aiohttp.BasicAuth('USQ5Q5FG3', 'pN5hqMms')

    """
    Один прокси
    """
    # proxy = f'http://141.145.205.4:31281'
    # proxy_auth = aiohttp.BasicAuth('proxy_alex', 'DbrnjhbZ88')
    # # start_time = datetime.datetime.now()
    # proxy = 'http://141.145.205.4:31281'
    # proxy_auth = aiohttp.BasicAuth('proxy_alex', 'DbrnjhbZ88')
    header = {
        "accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
        "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36"

    }
    """
       Случайный прокси
    """
    # async with session.get(url, headers=header, proxy=proxy, proxy_auth=proxy_auth) as r:

    """
       Один прокси
    """
    async with session.get(url, headers=header, proxy=proxy, proxy_auth=proxy_auth) as r:
        if r.status == 200:
            print(proxy)
            # print(url)
            return await r.text()
        else:
            bad_url.append(url)
            with open(f"bad_url.csv", "a", newline='', errors='ignore') as file:
                writer = csv.writer(file)
                writer.writerow(
                    bad_url
                )


async def get_all(session, urls):
    tasks = []
    for url in urls:
        task = asyncio.create_task(get_page(session, url))
        tasks.append(task)
    results = await asyncio.gather(*tasks)
    await parse(results)


async def main(urls):
    async with aiohttp.ClientSession() as session:
        data = await get_all(session, urls)
        return data


async def parse(results):
    counter = 752000
    for i in results:
        if i != None:
            counter += 1
            with open(f"c:\\DATA_webstaurantstore\\{counter}.html", "w",
                      encoding='utf-8') as file:
                file.write(i)
        else:
            continue


if __name__ == '__main__':
    urls = []
    with open('url.csv', newline='', encoding='utf-8') as files:
        csv_reader = list(csv.reader(files, delimiter=' ', quotechar='|'))
        count_url = 0
        for row in csv_reader[:5000]:
            count_url += 1
            urls.append(row[0])
            # if count_url == 1000:
            #     # print(f"Отдыхаем 10сек, прошли {count_url}")
            #     time.sleep(10)

    results = asyncio.run(main(urls))
    # parse(results)
